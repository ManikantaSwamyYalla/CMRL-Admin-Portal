@for(data of tableData;track data){
<div class="table">
  <div class="table-container">
    <table mat-table [dataSource]="data.dataSource">
      <!-- Define table columns dynamically based on data structure -->
      @for (column of data.displayedColumns; track $index) {
      <ng-container [matColumnDef]="column">
        <th mat-header-cell *matHeaderCellDef>{{ column }}</th>
        <td mat-cell *matCellDef="let element">{{ element[column] }}</td>
      </ng-container>
      }

      <!-- Define header and row definitions -->
      <tr
        mat-header-row
        *matHeaderRowDef="data.displayedColumns; sticky: true"
      ></tr>
      <tr mat-row *matRowDef="let row; columns: data.displayedColumns"></tr>
    </table>
  </div>

  <!-- Add paginator if needed -->
  <mat-paginator
    [pageSizeOptions]="[5, 10, 20]"
    showFirstLastButtons
    [pageSize]="5"
    [length]="data.dataSource.data.length"
  >
  </mat-paginator>
</div>
}
